<!DOCTYPE html>
<html lang="id">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Smart Lamp Control</title>
		<style>
			:root {
				--bg-color: #0f0f0f;
				--card-color: #1b1b1b;
				--accent: #ffcc00;
				--text: #f0f0f0;
			}

			body {
				background: var(--bg-color);
				color: var(--text);
				font-family: "Segoe UI", sans-serif;
				text-align: center;
				padding: 20px;
				margin: 0;
			}

			h1 {
				color: var(--accent);
				text-shadow: 0 0 10px var(--accent);
				margin-bottom: 30px;
				font-size: 1.8rem;
			}

			.container {
				display: grid;
				grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
				gap: 20px;
				max-width: 800px;
				margin: auto;
			}

			.lamp-card {
				background: var(--card-color);
				border-radius: 15px;
				padding: 20px;
				box-shadow: 0 0 10px rgba(0, 0, 0, 0.4);
				transition: 0.3s;
			}

			.lamp-card:hover {
				transform: translateY(-5px);
				box-shadow: 0 0 20px rgba(255, 204, 0, 0.4);
			}

			.lamp-name {
				font-size: 1.1rem;
				margin-bottom: 8px;
			}

			.icon {
				font-size: 40px;
				margin-bottom: 10px;
				transition: 0.3s;
				color: #555;
			}

			.icon.on {
				color: var(--accent);
				text-shadow: 0 0 20px var(--accent);
			}

			/* Saklar */
			.switch {
				position: relative;
				display: inline-block;
				width: 65px;
				height: 36px;
			}

			.switch input {
				display: none;
			}

			.slider {
				position: absolute;
				cursor: pointer;
				top: 0;
				left: 0;
				right: 0;
				bottom: 0;
				background-color: #555;
				transition: 0.3s;
				border-radius: 34px;
			}

			.slider:before {
				position: absolute;
				content: "";
				height: 28px;
				width: 28px;
				left: 4px;
				bottom: 4px;
				background-color: white;
				transition: 0.3s;
				border-radius: 50%;
			}

			input:checked + .slider {
				background-color: var(--accent);
				box-shadow: 0 0 15px var(--accent);
			}

			input:checked + .slider:before {
				transform: translateX(28px);
			}

			/* Responsive */
			@media (max-width: 768px) {
				h1 {
					font-size: 1.5rem;
				}
				.icon {
					font-size: 35px;
				}
				.lamp-card {
					padding: 15px;
				}
			}

			@media (max-width: 480px) {
				.container {
					grid-template-columns: repeat(auto-fit, minmax(130px, 1fr));
					gap: 15px;
				}
				.switch {
					width: 55px;
					height: 30px;
				}
				.slider:before {
					width: 24px;
					height: 24px;
				}
				.lamp-name {
					font-size: 1rem;
				}
			}
		</style>
	</head>
	<body>
		<h1>ðŸ’¡ Smart Lamp Control</h1>

		<div class="container">
			<div class="lamp-card">
				<div class="lamp-name">Dapur</div>
				<div class="icon" id="icon0">ðŸ’¡</div>
				<label class="switch">
					<input type="checkbox" onchange="toggleLamp(0, this.checked)" />
					<span class="slider"></span>
				</label>
			</div>

			<div class="lamp-card">
				<div class="lamp-name">kamar 2</div>
				<div class="icon" id="icon1">ðŸ’¡</div>
				<label class="switch">
					<input type="checkbox" onchange="toggleLamp(1, this.checked)" />
					<span class="slider"></span>
				</label>
			</div>

			<div class="lamp-card">
				<div class="lamp-name">Ruang Tamu</div>
				<div class="icon" id="icon2">ðŸ’¡</div>
				<label class="switch">
					<input type="checkbox" onchange="toggleLamp(2, this.checked)" />
					<span class="slider"></span>
				</label>
			</div>

			<div class="lamp-card">
				<div class="lamp-name">Kamar Mandi</div>
				<div class="icon" id="icon3">ðŸ’¡</div>
				<label class="switch">
					<input type="checkbox" onchange="toggleLamp(3, this.checked)" />
					<span class="slider"></span>
				</label>
			</div>

			<div class="lamp-card">
				<div class="lamp-name">Kamar 1</div>
				<div class="icon" id="icon4">ðŸ’¡</div>
				<label class="switch">
					<input type="checkbox" onchange="toggleLamp(4, this.checked)" />
					<span class="slider"></span>
				</label>
			</div>
		</div>

		<script>
			const TOKEN = "pVGfxPE76jiR8CV3POTuKffwEQ2iq388"; // Ganti dengan token kamu

			function toggleLamp(pin, state) {
				const value = state ? 1 : 0;
				fetch(
					`https://blynk.cloud/external/api/update?token=${TOKEN}&V${pin}=${value}`
				)
					.then(() => {
						const icon = document.getElementById(`icon${pin}`);
						if (state) icon.classList.add("on");
						else icon.classList.remove("on");
					})
					.catch(() => alert("Gagal mengirim perintah ke Blynk"));
			}
		</script>
	</body>
</html>


